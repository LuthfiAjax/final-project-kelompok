{"ast":null,"code":"const onRequest = config => {\n  console.log(`[axios][onRequest]: ${JSON.stringify(config)}`);\n  config.headers.Authorization = getCookie(\"access_token\");\n  return config;\n};\nconst getCookie = cookie_name => {\n  const cookies = document.cookie.split(\";\");\n  const cookies_length = cookies.length;\n  for (let i = 0; i < cookies_length; i++) {\n    const current_cookie = cookies[i].split(\"=\");\n    if (current_cookie[0].replace(\" \", \"\") === cookie_name) return current_cookie[1];\n  }\n};\nconst onRequestError = err => {\n  console.error(`[axios][onRequestError] err=${err}`);\n  return Promise.reject(err);\n};\nconst onResponse = res => {\n  console.log(`[axios][onResponse]: ${JSON.stringify(res)}`);\n  return res;\n};\nconst onResponseError = err => {\n  return Promise.reject(err);\n};\nexport const setupInterceptor = instance => {\n  instance.interceptors.request.use(onRequest, onRequestError);\n  instance.interceptors.response.use(onResponse, onResponseError);\n  return instance;\n};","map":{"version":3,"names":["onRequest","config","console","log","JSON","stringify","headers","Authorization","getCookie","cookie_name","cookies","document","cookie","split","cookies_length","length","i","current_cookie","replace","onRequestError","err","error","Promise","reject","onResponse","res","onResponseError","setupInterceptor","instance","interceptors","request","use","response"],"sources":["/Users/andy/Documents/WORK-OFFICE/CODING-STUDIO/week 9/appointment-react/src/api/interceptor.js"],"sourcesContent":["const onRequest = (config) => {\n    console.log(`[axios][onRequest]: ${JSON.stringify(config)}`)\n    config.headers.Authorization = getCookie(\"access_token\")\n    return config\n}\n\n const getCookie = (cookie_name) => {\n    const cookies = document.cookie.split(\";\");\n    const cookies_length = cookies.length;\n  \n    for (let i = 0; i < cookies_length; i++) {\n      const current_cookie = cookies[i].split(\"=\");\n      if (current_cookie[0].replace(\" \", \"\") === cookie_name)\n        return current_cookie[1];\n    }\n}\n\nconst onRequestError = (err) => {\n    console.error(`[axios][onRequestError] err=${err}`)\n    return Promise.reject(err)\n}\n\nconst onResponse = (res) => {\n    console.log(`[axios][onResponse]: ${JSON.stringify(res)}`)\n    return res\n}\n\nconst onResponseError = (err) => {\n    return Promise.reject(err)\n}\n\nexport const setupInterceptor = (instance) => {\n    instance.interceptors.request.use(onRequest, onRequestError)\n    instance.interceptors.response.use(onResponse, onResponseError)\n    return instance\n}"],"mappings":"AAAA,MAAMA,SAAS,GAAIC,MAAM,IAAK;EAC1BC,OAAO,CAACC,GAAG,CAAE,uBAAsBC,IAAI,CAACC,SAAS,CAACJ,MAAM,CAAE,EAAC,CAAC;EAC5DA,MAAM,CAACK,OAAO,CAACC,aAAa,GAAGC,SAAS,CAAC,cAAc,CAAC;EACxD,OAAOP,MAAM;AACjB,CAAC;AAEA,MAAMO,SAAS,GAAIC,WAAW,IAAK;EAChC,MAAMC,OAAO,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC;EAC1C,MAAMC,cAAc,GAAGJ,OAAO,CAACK,MAAM;EAErC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,cAAc,EAAEE,CAAC,EAAE,EAAE;IACvC,MAAMC,cAAc,GAAGP,OAAO,CAACM,CAAC,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC;IAC5C,IAAII,cAAc,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,KAAKT,WAAW,EACpD,OAAOQ,cAAc,CAAC,CAAC,CAAC;EAC5B;AACJ,CAAC;AAED,MAAME,cAAc,GAAIC,GAAG,IAAK;EAC5BlB,OAAO,CAACmB,KAAK,CAAE,+BAA8BD,GAAI,EAAC,CAAC;EACnD,OAAOE,OAAO,CAACC,MAAM,CAACH,GAAG,CAAC;AAC9B,CAAC;AAED,MAAMI,UAAU,GAAIC,GAAG,IAAK;EACxBvB,OAAO,CAACC,GAAG,CAAE,wBAAuBC,IAAI,CAACC,SAAS,CAACoB,GAAG,CAAE,EAAC,CAAC;EAC1D,OAAOA,GAAG;AACd,CAAC;AAED,MAAMC,eAAe,GAAIN,GAAG,IAAK;EAC7B,OAAOE,OAAO,CAACC,MAAM,CAACH,GAAG,CAAC;AAC9B,CAAC;AAED,OAAO,MAAMO,gBAAgB,GAAIC,QAAQ,IAAK;EAC1CA,QAAQ,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC/B,SAAS,EAAEmB,cAAc,CAAC;EAC5DS,QAAQ,CAACC,YAAY,CAACG,QAAQ,CAACD,GAAG,CAACP,UAAU,EAAEE,eAAe,CAAC;EAC/D,OAAOE,QAAQ;AACnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}